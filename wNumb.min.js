!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.wNumb=e()}(function(){"use strict";var e=["decimals","thousand","mark","prefix","suffix","encoder","decoder","positiveBefore","negativeInBracket","negativeBefore","negative","edit","undo"];function t(e){return e.split("").reverse().join("")}function n(e,t){return e.substring(0,t.length)===t}function r(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function i(e){return"number"==typeof e&&isFinite(e)}function o(e,n,r,o,f,u,s,a,c,p,d,l,g,h){var v,x,m,w,y,b,B=h,j="",k="";return u&&(h=u(h)),!!i(h)&&(!1!==e&&0===parseFloat(h.toFixed(e))&&(h=0),h<0&&(v=!0,h=Math.abs(h)),!1!==e&&(b=e,y=(y=h).toString().split("e"),h=(+((y=(y=Math.round(+(y[0]+"e"+(y[1]?+y[1]+b:b)))).toString().split("e"))[0]+"e"+(y[1]?+y[1]-b:-b))).toFixed(b)),-1!==(h=h.toString()).indexOf(".")?(w=(x=h.split("."))[0],r&&(j=r+x[1])):w=h,n&&(w=t(w).match(/.{1,3}/g),w=t(w.join(t(n)))),v&&p&&(k+=p),o&&(k+=o),v&&d&&(k+=d),v&&c&&(w=(m=c.split(""))[0]+w,j+=m[1]),h>0&&a&&(k+=a),k+=w,k+=j,f&&(k+=f),l&&(k=l(k,B)),k)}function f(e,t,r,o,f,u,s,a,c,p,d,l,g,h){var v,x,m="";return g&&(h=g(h)),!(!h||"string"!=typeof h)&&(p&&n(h,p)&&(h=h.replace(p,""),v=!0),o&&n(h,o)&&(h=h.replace(o,"")),d&&n(h,d)&&(h=h.replace(d,""),v=!0),f&&function(e,t){return e.slice(-1*t.length)===t}(h,f)&&(h=h.slice(0,-1*f.length)),t&&(h=h.split(t).join("")),r&&(h=h.replace(r,".")),c&&(x=c.split(""),h.indexOf(x[0])>-1&&h.indexOf(x[1])>-1&&(h=h.replace(/[()]/g,""),v=!0)),v&&(m+="-"),""!==(m=(m+=h).replace(/[^0-9\.\-.]/g,""))&&(m=Number(m),s&&(m=s(m)),!!i(m)&&m))}function u(t,n,r){var i,o=[];for(i=0;i<e.length;i+=1)o.push(t[e[i]]);return o.push(r),n.apply("",o)}return function t(n){if(!(this instanceof t))return new t(n);"object"==typeof n&&(n=function(t){var n,i,o,f={};for(void 0===t.suffix&&(t.suffix=t.postfix),n=0;n<e.length;n+=1)if(void 0===(o=t[i=e[n]]))"negative"!==i||f.negativeBefore||f.negativeInBracket?"mark"===i&&"."!==f.thousand?f[i]=".":f[i]=!1:f[i]="-";else if("decimals"===i){if(!(o>=0&&o<8))throw new Error(i);f[i]=o}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof o)throw new Error(i);f[i]=o}else{if("string"!=typeof o)throw new Error(i);f[i]=o}return r(f,"mark","thousand"),r(f,"prefix","negative"),r(f,"prefix","negativeBefore"),f}(n),this.to=function(e){return u(n,o,e)},this.from=function(e){return u(n,f,e)})}});